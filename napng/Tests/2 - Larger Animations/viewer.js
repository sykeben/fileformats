//////////////////////////////
// NAPNG TEST VIEWER SCRIPT //
//////////////////////////////

const rawdata = "4E41504E4730313030303050303030303030313535383631393837313030303030303030303030303030303048414E444D4144452B2B2B2B2B2B2B2B3F3F3F3F3F3F3F3F3F3F3F3F3F3F3F3F30303030303036383230303031353089504E470D0A1A0A0000000D4948445200000080000000800806000000C33E61CB000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA8640000001874455874536F667477617265007061696E742E6E657420342E312E36FD4E09E80000021B49444154785EEDD0218E445110C3C0B9FFA5FF2E8E8C1E6AC906458CA2FCBEEF8B18C678608C07C67870FCCF97EDDEBCE338875FB37BF38EE31C7ECDEECD3B8E73F835BB37EF38CEE1D7ECDEBCE338875FB37BF38EE31C7ECDEECD3B8E73F835BB37EF38CEE1D7ECDEBCE338875FB37BF38EE31C7ECDEECD3B8E73F835BB37EF38CEE1D7ECDEBCE338875FB37BF38EE31C7ECDEECD3B8E73F835BB37EF38CEE1D7ECDEBCE338875FB37BF38EE31C7ECDEECD3B8E73F835BB37EF38CEE1D7ECDEBCE338875FB37BF38EE31C7ECDEECD3B8E73F835BB37EF38CEE1D7ECDEBCE338875FB37BF38EE31C7ECDEECD3B8E73F835BB37EF38CEE1D7ECDEBCE338875FB37BF38EE31C7ECDEECD3B8E73F835BB37EF38CEE1D7ECDEBCE338875FB37BF38EE31C7ECDEECD3B8E73F835BB37EF38CEE1D7ECDEBCE338875FB37BF38EE31C7ECDEECD3B8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CB1F87E7F430126AE3597B2280000000049454E44AE42608230303030303035323530303031353089504E470D0A1A0A0000000D4948445200000080000000800806000000C33E61CB000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA8640000001874455874536F667477617265007061696E742E6E657420342E312E36FD4E09E80000017E49444154785EEDD4B109C03010C0C0EC96C9325596CA0E8EDDA550E52A203D1C1855CF173EC61811C3180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CF1C0180F8CCB9C6B5A8F3F79A693F6CD1E8CCBE7E87F73D3BED9837199D30F2080311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E381311E18E3813116E3780167175F2BE6713AF50000000049454E44AE42608230303030303037383230303031353089504E470D0A1A0A0000000D4948445200000080000000800806000000C33E61CB000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA8640000001874455874536F667477617265007061696E742E6E657420342E312E36FD4E09E80000027F49444154785EEDDCC14D1C011404517270024441024EC0A93828622018A7E01CD633D222A1514934A2F7E2AE91DE81F2D273F8D2DECCD3ED76D3308CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81911CCFF3E1CFE1FCE1336F871FB473BAFFFBF577C8F9BE67DA500746723C2FF7A3A45E68E774F9DC677ED3863A3092E3F11BE03F8431F1E148C78FFC99AF68EF298331D13E587B4F198C89F6C1DA7BCA604CB40FD6DE530663A27DB0F69E321813ED83B5F794C198681FACBDA70CC644FB60ED3D653026DA076BEF298331D13E587B4F198C89F6C1DA7BCA604CB40FD6DE530663A27DB0F69E3218131F0FD6767D971E0763E27AB4A6EBBBF4381813D7A3355DDFA5C7C198681FACBDA70CC644FB60ED3D653026DA076BEF298331D13E587B4F198C89F6C1DA7BCA604CB40FD6DE530663A27DB0F69E321813ED83B5F794C198681FACBDA70CC644FB60ED3D653026DA076BEF298331D13E587B4F198C89F6C1DA7BCA604CB40FD6DE5306E3D5F1FC3CFC7D3F50A0F5DFC34FE77B7FD18EBE0FE3D5F17CE560EF5A7F20E2F4463BFA3E8C57C7D3FE0678BD7F2EE137C00361D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8CDA81513B306A0746EDC0A81D18B503A37660D40E8C5A717BFA07CD1137627DA05DA10000000049454E44AE42608230303030303130393230303031353089504E470D0A1A0A0000000D4948445200000080000000800806000000C33E61CB000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA8640000001874455874536F667477617265007061696E742E6E657420342E312E36FD4E09E8000003B549444154785EEDDB816D9B490C8451F790065C851B70032EC12DB828D7E062D2427A50661D29582C3E454B817220CF1078C0EDFC1B2A4713CA41173D1C0E87308661F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C090A81EE5A78CC3251FF283FA0CC7E7EBAF21E3F51EA9C7A07A39DEFB4A1FF47BB9571812D5D334841D4FD46758EE5DF2463D06D5EE2275B25D80BC03FCE1B900AB7928EBB36B74F553BD4DBDCEBE7B54A8E677BF2CC0300D4447BE53D1D54F950528C070C734101DF94E45573F5516A000C31DD34074E43B155DFD545980020C774C03D191EF5474F55365010A30DC310D4447BE53D1D54F950528C070C734101DF94E45573F55FB020C53CF2CC0300D4447BE53D1D54F75AB05783FF67CA6E7F70AC31DC7617C5A9F5DA3AB9FAAB400AAF101D7AFA3B31F3A7D5718EE509D86AC23DFA9E8EAA7AA2EC0EB74FF95EE7C6718EE9886A623DFA9E8EAA7AA2EC04DFEC8B81718EE9886A623DFA9E8EAA7CA021460B8631A9A8E7CA7A2AB9F2A0B5080E18E6968EDD6D7AA50CD3FD0AA2CC0AE6570ADD6D7AA5065010A30DCB10CAED5FA5A15AA2C4001863BE6C1ADCFAED1D54F95FF0628C070C734341DF94E45573F5516A000C31DD3D074E43B155DFD545980020C774C43D391EF5474F5535517209F045E631A9A8E7CA7A2AB9FAABA00DBFF2F40F52CE31FDEE9F93DC270C771109FD667D7E8EAA7BAD95BBAEAEFDF665E9FDD2B0C779C06D1358CAE7EAA2F590039FBBD877B82E18E69103AF29D8AAE7EAA2C4001863BA641E8C8772ABAFAA9B2000518EE9806A123DFA9E8EAA7CA021460B8631A848E7CA7A2AB9F2A0B5080E18E69103AF29D8AAE7EAA2C4001863BA641E8C8772ABAFAA9B2000518EE9806A123DFA9E8EAA7CA021460B8528D4FC0C62765A77FF94BC6A03ABE1E3E8CD77D39D3E77F7C3DFCC46A012A3FB093B3035AEEEDC02F638C7CBAF3D5F20EF00F97DE014E5FB2D89177801BC2307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60182E0E0FBF010FAA704D36C31B930000000049454E44AE42608230303030303130393030303031353089504E470D0A1A0A0000000D4948445200000080000000800806000000C33E61CB000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA8640000001874455874536F667477617265007061696E742E6E657420342E312E36FD4E09E8000003B349444154785EEDDB816D53411084617A4803544103349012D202455103C5D0023D843970A2D5D36FDEADB30E8899953E891B5FF65DCCDAC00BFEF0FCFC1CC6300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F1812D547F92E6B71E69B3C509FE5F2F8F16BC8BADE47EAB1A81E2FFBDED3373ACB91EA61EDBD7CCD5BFC90CF748D091812D5A7CB81767DA23ECB61DF992FD463514D3CC15DBB03D07DBEFEE4EA73F056181255DE017EF37C07382A07D492F7744CF5537D29BD465E39AAFA6ADE1A8033F7E8790B0C7794C36BC97B3AA6FAA932000D18EE2887D792F7744CF55365001A30DC510EAF25EFE998EAA7CA003460B8A31C5E4BDED331D54F950168C0704739BC96BCA763AA9F2A03D080E18E72782D794FC7543FD5F8002CA56706602987D792F7744CF553DD6B00BE5E7A8EFC9B5C9501A8A6FAA95A03A05A37B8D6CD96E5EA4DA769AA0C4035D54FD51D80A7B2FF89F6DC832A03504DF5537507E02E7F649C516500AAA97EAA0C4003863BCAE1B5E43D1D53FD541980060C7794C38F3B5EAB43557F43BB3200BBCAE1C71DAFD5A1CA003460B8A31C7EDCF15A1DAA0C4003863BCAE1B5E43D1D53FD54F93B4003863BCAE1B5E43D1D53FD541980060C7794C36BC97B3AA6FAA96C0740D5BE5D8DE18ECB857E393E768BA97EAAEE00FC3777026FE987E18E72312D794FC7543F557700B67F16A0FA2CEB175FE9F10ED5E800DCDA0FC31DE5625AF29E8EA97EAABBBDA5AB5EFF97EFF1B12E5506A09AEAA77A970190AB9F7BD8B1BEBEF4CA004CF55365003200AFBD32002730DC512EA625EFE998EAA7CA0064005E7B65004E60B8A35C4C4BDED331D54F9501C800BCF6CA009CC07047B99896BCA763AA9F2A03303D00AA75076CDD297BB9C099F5444D7C3C7C59D77DBCD2E76F7C3CFCC51F074035F5F1F05B8C0FC02DDFC8D527E8B06F077E432B2F7BDEDBD900D457E47BFBE7DF015E7E6AB523EF007DB30310FF2F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC30786E103C3F08161F8C0307C60183E300C1F18860F0CC3C5F3879F25EFB9383C1CCC2D0000000049454E44AE42608230303030303132373930303031353089504E470D0A1A0A0000000D4948445200000080000000800806000000C33E61CB000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA8640000001874455874536F667477617265007061696E742E6E657420342E312E36FD4E09E80000047049444154785EEDDD81911347108561722001A220011220844B811008861808C6293887F31BAC534D4DFD62A75B2DC15EBFAEFAAA3C4F73BD83B64F36029D3FBCBEBE5A63185A1F185A1F185A1F185A1F185A1F185A1F185A1F185A1F185A1F1812D527F947C6E2C84FF9487D86CBE3EBD79071BD4FD463507DBDEC7BA69F749695EAE3D87BF99A7BFC2B5FE81A153024AACF9703EDFA4C7D8665DF916FD46350553CC151BB03107DBE7EE7E673702F0C89CAAF00FFEBF90AB09A0EA825EF89A8EAA7FA36F52AF9CE51CDDFCD5B0370E4113D3330DC311D5E4BDE1351D54FE50108C070C774782D794F44553F95072000C31DD3E1B5E43D1155FD541E80000C774C87D792F74454F55379000230DC311D5E4BDE1351D54FE50108C070C774782D794F44553F55F9000C534F0FC0301D5E4BDE1351D54FF5A801F871E959F27B7295076056D54F151A00D578836BBCD932DC7CD3A99ACA0330ABEAA78A0EC0CBB4FF85F63C82CA0330ABEAA78A0EC043FE957144E5019855F55379000230DC311D5E4BDE1351D54FE50108C070C774F872EBB52254F30D8DF200EC9A0E5F6EBD5684CA031080E18EE9F0E5D66B45A83C000118EE980EAF25EF89A8EAA7F27F030460B8633ABC96BC27A2AA9FCA031080E18EE9F05AF29E88AA7EAAB603A00ABF5D8DE18ECB857E591FCBA8EAA78A0EC0BB792730D30FC31DD3C5B4E43D1155FD54D101D8FEB300D51719FFF0831E8F50950E40B61F863BA68B69C97B22AAFAA91EF692AEBAFE2DDFF5B12895076056D54FF59401909B9F7BD831BE7EEAE501A8EAA7F2007800AEBD3C000730DC315D4C4BDE1351D54FE501F0005C7B79000E60B863BA9896BC27A2AA9FCA03E001B8F6F2001CC070C774312D794F44553F9507A07A0054E31DB0F14ED9DB058E8C27AAE2E3E1C3B8EED71B7DFEC4C7C3DFFC760054551F0FCF281F80CC2FE4E613B4ECDB81BFA0914F7B9EED6800E6EFC867FBEB5F01DEFED46A875F01E26A07C0DE2F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0CAD0F0C89EAFBF453A8EE51FAC31BED3E1892E526DE63FB4798D9E36148547E05788730CC986FF2FA98FDBD30CCF0009C1386191E8073C230C303704E18667800CE09C30C0FC0396198E10138270C333C00E784618607E09C30CCF0009C1386191E8073C230C303704E18667800CE09C30C0FC0396198E10138270C333C00E784618607E09C30CCF0009C138619D503A07AB9F4FB4E8F5B0D0C332E37EB97F5B10CD5F5FFBBBB3E667530CC78BB595537ACBA9F310C33AA6F58753F63186654DFB0EA7EC630CCA8BE61D5FD8C6198517DC3AAFB19C330A3FA8655F733866146F50DABEE670CC38CEA1B56DDCF188619D537ACBA9F310C33AA6F58753F63181255D5C7C3C3D6B3581D0CC97A539E693D8BD5C190A8FC0AF00E61687D60687D60687D60687D60687D60687D60687D60687D60685DBC7EF80FBE9C8E815D3060500000000049454E44AE42608230303030303138303330303031353089504E470D0A1A0A0000000D4948445200000080000000800806000000C33E61CB000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA8640000001874455874536F667477617265007061696E742E6E657420342E312E36FD4E09E80000067C49444154785EED9DD191DB480C449D8313F0BFFF9D801370089B8243700ACEC1313805E7B0293887BDC61DA9424D35570310A44E4477D5ABDA6942E02C045114258D3EBCBDBD89C65053F4819AA20FD4147DA0A6E80335451FA829FA404DD1076A8A3E5053F4819A0CE813780536B8C76FF091E53196EDE36D18B6BF4F2C87017D5BE2CEE4379BCB08F4D16297DBECE12FF8CAF651013519D0976542B37C61798C21EE1EDF590E03AA287094D90688D6EB3D366BB0176A32201D01FEA3E71160C44D10431E13A12A1FF4DDE52A79E440FED13CD500F7382267066ACEE0268F218F8950950F520304A0E60C6EF218F2980855F9203540006ACEE0268F218F8950950F520304A0E60C6EF218F2980855F9203540006ACEE0268F218F8950950F520304A0E60C6EF218F2980855F9A0F206305C4E3580E1268F218F8950950F3AAA017E2D394B5E93436A004F553E28D400905DE0B28B2DC6E645A76A203580A72A1F146D801717FFC2628E00520378AAF241D10638E429E31E901AC053950F520304A0E60C6EF218F2980855F9203540006ACEE0265FCEB8AF0890BF43A3A8016671932F67DC5704480D10809A33B8C99733EE2B02A4060840CD19DCE431E43111AAF2413A070840CD19DCE431E43111AAF2416A8000D49CC14D1E431E13A12A1FD4B601A0F0E56A6ACEB0ECE85FC66D19AAF241D106B8CC95C04C3E6ACEE07686218F8950950F8A36C0F47B01D057607FFC62DB2340A50D90CD47CD19DCCE30E43111AAF241871DD2A1DBA77CC76D51203580A72A1F744A0380CDEF3DCC60B777B9D40055F92035801AE0964B0D70076ACEE07686218F8950950F5203A8016EB9D40077A0E60C6E6718F2980855F92035801AE0964B0D70076ACEE07686218F8950950F52035437006457C0EC4AD9BA837B58A12ABE1E6ED87EBF6DE479C4D7C357DE6D00A8EAEBE119CA1B20F38F6C1668889B81FE43E6BB98B3B9D700FE117936FFFB23C0FAAED50C3A02C4A96D00715DA829FA404DD1076A8A3E5053F4819AA20FD4147DA0A6E80335451FA829FA404DD1076A8A3E5053F4819AA20FD4147DA0A6E80335451FA829FA404DD1076A8A3E5053F4819AA20FD4147DA0A6E80335451FA829FA404DD1076A8A3E5053F4819AA20FD4147DA0A6E80335451FA829FA404DD1076A8A3E50F38A40B668932D2AF513FC01667A6C41A71FA0E4D7C19F056A3296E2F88265295DBCF11E90DDF1B678646495B357405726BB1AD464B8E2EC657A09B3BD40D1E5ED46EC48F199E5BE0AD464404F750480D87CED916DBE2DE2785BC710B2DF0DB266B16DAC612E7B34A066065FB071DBD940F63C7F9B0FD85C6C9201D92F898D8D70C926A066065FAC71DB9940E39D6FAB926EAE5ABA05644785F164F1724D40CD0CBE50E3B6B380C6A5637FB2B859203B811C9BE052E704D4CCE08B346E3B0368FDFDBF751EBB7FDBCF80AC09ECDC61CDFB87C53D2BD4CCE00A84218F3912C82FCC6C7758F8B0BF05F479C9BB7299A7026A66F0051AB71D0D342ECDBEEBC71C1890FF218A5716F38C5033832B0E863CE62820BFFCFCAEE7FD2D207B2AF04F3197380A5033832B0C863CE60820BB636EFB06EFFEFEEF1E207F1438ED82D6915033832B0C863CE608207FE67FE89D028DCD56769EF128A899C11766DC7624907FDD7FF86119F24F374FFF3440CD0CAE2818F2982380FC4BB4C30EFF2B905D255CF7F783C53C13D4CCE08A82218F3902B7DFBF6C7B3550E9CFBD3D1A6A667045C190C75403D9C59F75BF67BECBB8EEF3E95F0E5233832B0A863CA61AE8218F46B74F0C79CCB340CD0C8F280AA406D80935333CA228901A6027D4CCF088A2406A809D5033C3238A02E9247027D4CCE08A82218F8900ADAFB7DF7DADBDC4187A1998809A195C5130E43111A0DBDBBBE3360FA40B413BA0660657140C794C84D97C902E05EF809A195C5130E4311166F341FECDA0924F016D01E9CDA02D7C61C66D1966F3417A3B7807D4CCE00A83218F8910C907E9032149A899C11506431E1321920FF267E646F9277721FFE83FE515C7195033832B0E863C2642341FE43F146A1FE53EF243A12F2CEE19A166065FA0715B86683E481F0B4F40CD0CAE4018F29808997C90BE1812849A197C91C66D19B2F9A0F1AB617607865F19D86D96DBFA5C9738F1F35033832FD4B82DC39E7C10FB72E8F4F3B6C52EB7F1392E77E71BD46440555F0F0F33CE650688CDD7EE547D3DDC414DC650905319E7320BA40522EE404D06F454478015C84EE4B444CC06D4BC2290358216891AA0A6E80335451FA829FA404DD1076A8A3E5053F4819AA20FD4145D78FBF00FE0461F4449137A760000000049454E44AE42608230303030303139333030303031353089504E470D0A1A0A0000000D4948445200000080000000800806000000C33E61CB000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA8640000001874455874536F667477617265007061696E742E6E657420342E312E36FD4E09E8000006FB49444154785EED9DE191D34A1084C98104F8CF7F1220014220054220057220065220874B811CEEF5DCB35CC3D2B67656B37B674D77D55775DB1ACFCEC92359926DF9DDF3F3B3280C35451DA829EA404D51076A8A3A5053D4819AA20ED41475A0A6A80335451DA8C9803E802760833D7E81F72C8F7159DE3E8661F37D60390CE8CB256E25BF582D2DD07B8BBD3CE6087FC067364706D464409F2E05F5F289E5319AB83DBEB11C0694B182A3F43640747DDDE3E63A380A351990F600FF53730FD0E20AC490C744C8CA077D73B952B61CC86FCD5D0DB0C78C9C2350B307573C863C2642563E480D10809A3DB8E231E43111B2F2416A8000D4ECC1158F218F8990950F520304A0660FAE780C794C84AC7C901A2000357B70C563C8632264E583D40001A8D9832B1E431E13212B1F94DE0086CBA906305CF118F2980859F9A0590DF0F39233E59C1C520378B2F241A10680EC02975D6C316E5E74CA06520378B2F241D106F8EAE2BFB29819406A004F563E28DA00535E32F680D4009EAC7C901A2000357B70C563C8632264E583D40001A8D9832B3E9D76AE08907F42A3A8017A71C5A7D3CE1501520304A0660FAEF874DAB922406A8000D4ECC1158F218F8990950FD23140006AF6E08AC790C744C8CA07A9010250B307573C863C2642563EA86C0340E1CBD5D4ECE132D10BEDB211B2F241D10638CD95C0917CD4ECC14D86218F8990950F8A3640F77B01D067607FFC64CB2340A90D309A8F9A3DB8C930E43111B2F241D376E9D0F553BEEDB228901AC093950F5AD200E0E6F71E7AB0C7BB5C6A80AC7C901A400D70CDA506D8819A3DB8C930E43111B2F2416A0035C035971A60076AF6E026C390C744C8CA07A901D400D75C6A801DA8D9839B0C431E13212B1FA406C86E00C8AE80D995B26D823D6C45657C3DDCB079BFDCC8F31A5F0FDFB8DB0050D6D7C347486F80917FE4E60A6AE27AA0FF90F92E66357B0DE0B7C8D5BCF93DC0F6AE550FDA03C4C96D00715EA829EA404D51076A8A3A5053D4819AA20ED41475A0A6A80335451DA829EA404D51076A8A3A5053D4819AA20ED41475A0A6A80335451DA829EA404D51076A8A3A5053D4819AA20ED41475A0A6A80335451DA829EA404D51076A8A3A5053D4819AA20ED41475A0A6A80335451DA829EA404DF17A40DFDDAD5E7E809BB7DAC9809AE27580D83D8F526F75D742CD3302D94D9B6C05DB56F51BF8956CD80D9D6CEB4BF975F011207F8FC36B5D2C360B6A3220BF6B3AC2D48E6E81EC89B7151BB9CBD913A077269B09F4A61BC0177584A9FF90078ADEDEAEC5F6141F59EE1940DA036401B17A6DCB36DF6EE2783DB882EC7783AC596C196B98257B038835C077169B053547F045B7CB5603D9EBFCB51E70F366930CC87E49AC6D84E94D00B106788C83405F74BB6C2550FBE4DB5D49C3A75290ED15DA83C5A94D00B1DBCBAA017A81DAD3A81F2CAE17C80E20DB2698764C00A9014681B6DFFFDBEA38FCDB7E06644D60C70E5BDEDF2C2E038835C0D41FB3A4E608BEE876D90A207F63667BC2D2AEA0411F2F7937A6BC1440AC010EFD2EC11ED41CC117DD2E9B0DD4AEB8F49506F903B427167314C8F662DB1C1B6A803D207FFBF943AFFBB780ECA5C0BFC4CCDA0B6CF937D400F780EC89B9CE0DEEFEFEEF1120BF17987281C6E5DF5003DC03F247FE73AF9AFDDB6CE9EFD435F9A7CCE1A1E608BEE876D94C207FDEBFE2628D7FB9499FCFE57EA15D9E0D35475859B407F2A768D376FF1B905D25DCE64BBF4C0BFDF53333EDF26CA839C2CAA23D6EDE3F6C7936903FE3487FC9B19C2E3F2C1E970535475859F406E44F9B56BECBB8CD997E3A08FD753D83C56442CD115CD118F2986CA0A95BE32DDC9C18F2985120DF00D3FF276A8EE08AC690C764039DB101FC41A61AE01ED0191B60FAB5060F3547704563C863B281D40007A1E608AE680C794C36D0190F027D034CFFF4143547704563C8632240DBF9F6DD73ED4B8C7196D3403580015D8F86DB651EE86C1782ECB3895BFED20DD0950F3ADBA5E0ED0328F6CEE3FC8666E608D0B65230E431117AF341FECDA0944F01DD029AFE66D06AA839825F31EDB2117AF341A77A3B7835D41CC1AD180C794C84483EE8341F08590D3547702B06431E1321920FF247E646FA277721BFF52F39E358013547702B07431E13219A0FF2D7D0EDA3DC333F143AF593BA2BA1E6087E05B5CB4688E6831EFE63E1AF013547702B08431E1361241FF4D05F0C790DA839825F49EDB21146F341ED57C3EC090C9F19D8632E8FF5B9A61EF841769CE1F736B647ABF9E5D023F920F6E5D0EED76D8BBD3CC6E758F1E4FBF93CD39A809A0C2BC215B494B6961E2056EFCB1605ECACE17A9008D9D6FEAA5F0F87FC96FF0F6D7C16D464B405ADA4ADA517E8616E1001DDADB38DCF829A0CE8A1F6001B901DC8D9EE35D208B6352EBDD003BDED97804707B24678849B44F946B5BF1FE320503C26D41475A0A6A80335451DA829EA404D51076A8A3A505354E1F9DD7F03209CDC33F8AD6A0000000049454E44AE426082"

function read(from, to) {
    return rawdata.substr(from * 2, (to - from) * 2)
}

function sub(from, length) {
    return rawdata.substr(from * 2, length * 2)
}

function hex2a(hexx) {
    var hex = hexx.toString()
    var str = ''
    for (var i = 0;
        (i < hex.length && hex.substr(i, 2) !== '00'); i += 2)
        str += String.fromCharCode(parseInt(hex.substr(i, 2), 16))
    return str
}

if (!window.atob) {
    var tableStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    var table = tableStr.split("");

    window.atob = function (base64) {
        if (/(=[^=]+|={3,})$/.test(base64)) throw new Error("String contains an invalid character");
        base64 = base64.replace(/=/g, "");
        var n = base64.length & 3;
        if (n === 1) throw new Error("String contains an invalid character");
        for (var i = 0, j = 0, len = base64.length / 4, bin = []; i < len; ++i) {
            var a = tableStr.indexOf(base64[j++] || "A"),
                b = tableStr.indexOf(base64[j++] || "A");
            var c = tableStr.indexOf(base64[j++] || "A"),
                d = tableStr.indexOf(base64[j++] || "A");
            if ((a | b | c | d) < 0) throw new Error("String contains an invalid character");
            bin[bin.length] = ((a << 2) | (b >> 4)) & 255;
            bin[bin.length] = ((b << 4) | (c >> 2)) & 255;
            bin[bin.length] = ((c << 6) | d) & 255;
        };
        return String.fromCharCode.apply(null, bin).substr(0, bin.length + n - 4);
    };

    window.btoa = function (bin) {
        for (var i = 0, j = 0, len = bin.length / 3, base64 = []; i < len; ++i) {
            var a = bin.charCodeAt(j++),
                b = bin.charCodeAt(j++),
                c = bin.charCodeAt(j++);
            if ((a | b | c) > 255) throw new Error("String contains an invalid character");
            base64[base64.length] = table[a >> 2] + table[((a << 4) & 63) | (b >> 4)] +
                (isNaN(b) ? "=" : table[((b << 2) & 63) | (c >> 6)]) +
                (isNaN(b + c) ? "=" : table[c & 63]);
        }
        return base64.join("");
    };

}

function hexToBase64(str) {
    return btoa(String.fromCharCode.apply(null,
        str.replace(/\r|\n/g, "").replace(/([\da-fA-F]{2}) ?/g, "0x$1 ").replace(/ +$/, "").split(" ")));
}

function base64ToHex(str) {
    for (var i = 0, bin = atob(str.replace(/[ \r\n]+$/, "")), hex = []; i < bin.length; ++i) {
        var tmp = bin.charCodeAt(i).toString(16);
        if (tmp.length === 1) tmp = "0" + tmp;
        hex[hex.length] = tmp;
    }
    return hex.join(" ");
}

function print(text) {
    document.getElementById("log").innerHTML += `<br>${text}`
}

function printcolor(text, color) {
    print(`<span style="color: ${color};">${text}</span>`)
}

var frame = -1
function frameplay() {

    frame++
    if (frame >= framedata.length) frame = 0

    document.getElementById('framenumber').innerHTML = frame

    document.getElementById("viewer").src = `data:image/png;base64,${hexToBase64(sub(framedata[frame].start, framedata[frame].dist))}`
    setTimeout(frameplay, framedata[frame].time)

}

if (hex2a(read(0, 5)) == "NAPNG") printcolor(`Filetype confirmed as <u>NAPNG version ${hex2a(read(5,7))}.${hex2a(read(7,9))}.${hex2a(read(9,11))}</u> with <u>compression type "${hex2a(read(11,12))}"</u>`, 'red')
else printcolor("Unknown filetype, things may break!", 'red')

if (hex2a(read(12,28)) == '0000000000000000') printcolor("File was <u>never created</u>?", 'green')
else printcolor(`File <u>created ${new Date(parseInt(hex2a(read(12,28)))).toLocaleString()}</u> by application "${hex2a(read(44,60)).replace(/\+/g, "")}"`, 'green')

if (hex2a(read(28,44)) == '0000000000000000') printcolor("File was <u>never edited</u>.", 'green')
else printcolor(`File <u>edited ${new Date(parseInt(hex2a(read(28,44)))).toLocaleString()}</u> by application "${hex2a(read(60,76)).replace(/\+/g, "")}"`, 'green')

var address = 76
var framedata = []
var x = -1
while (address < rawdata.length/2) {

    x++
    framedata[x] = {}

    framedata[x].start = address+15
    framedata[x].dist = parseInt(hex2a(read(address, address+9)))
    framedata[x].time = parseInt(hex2a(read(address+10, address+15)))

    printcolor(`<u>Frame ${x}</u> starts at byte ${framedata[x].start}, is ${framedata[x].dist} bytes long, and displays for ${framedata[x].time}ms.`, 'blue')

    address += (15 + framedata[x].dist)

    document.getElementById('framecount').innerHTML = x
}

setTimeout(frameplay, 500)